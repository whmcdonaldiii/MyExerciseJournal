@using MyExerciseJournal.Models

<h3>ExerciseSessions</h3>
<MudText Typo="Typo.h6">Welome @CurrentUser.Name!</MudText>
<MudPaper>
    <MudGrid>
        <MudItem xs="3">
            <MudDataGrid T="UserSession" Items="_sessions" SelectedItem="@SelectedSession" RowClick="@SetSelectedSession"
                         RowClassFunc="GetRowClass">
                <Columns>
                    <PropertyColumn Property="x=>x.Date" />
                    <TemplateColumn>
                        <CellTemplate>
                            <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Outlined.Delete" OnClick="@DeleteSession">Delete</MudIconButton>
                        </CellTemplate>
                    </TemplateColumn>
                </Columns>
            </MudDataGrid>
            <MudButton Variant="Variant.Filled" OnClick="CreateNewSession">New Session</MudButton>
        </MudItem>
        <MudItem xs="9">
            @if (SelectedSession != null)
            {
                <Session UserSession="@SelectedSession" />
            }
        </MudItem>
    </MudGrid>
        <MudDialog @bind-Visible="isDialogOpen">
            <DialogContent>
                <NewSession OnSave="@HandleSave" />
            </DialogContent>
        </MudDialog>
    
</MudPaper>

<style>
    .selected-row{
        background: #eee;
    }
</style>